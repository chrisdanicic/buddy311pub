# buddy311pub

Welcome to the public repository for [Buddy311](https://buddy311.org), an automated AI complaint classifier that lets you seemlessly notify officials of problems in your neighborhood. This repository houses some of the main notebooks and .py files used in developing model and operating the front-end and back-end. Please visit our mainpage at https://buddy311.org to learn more about the product and to test it out.

## Data

In order to build the best model for free text classification, we had to find a large amount of 311-like free text complaints and category classifications. Our first sources came directly from city open data repositories, such as [Cincinnati](https://data.cincinnati-oh.gov/Thriving-Healthy-Neighborhoods/Cincinnati-311-Non-Emergency-Service-Requests/4cjh-bm8b), [Chicago](https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Vacant-and-Abandoned-Building/7nii-7srd), [Chattanooga](https://data.chattlibrary.org/Government/311-Service-Requests/9trg-pjbs), as well as through other 311-related systems. 

While many cities have vast amounts of 311 data open to the public, not all provided free text of the either the initial complaint nor an operator log of the complaint. Additionally, many of the sources that did provide free text also contained automated messages or service codes that were not pertinent to communicating the nature of the issue and were not written the way people naturally communicate. 

After compiling a sufficient amount of training data, over 1.2M complaints, we grouped each complaint by (1) the department which the complaint was assigned and (2) the specific unit or complaint type. From these two classes, we compiled a list of MAIN categories which were more closely related to departments, and SUB categories, which were more closely related to specific units or complaint types. We then paired Department-unit/complaint_types with MAIN/SUB categories to map each city's specific catorization structure to our generalized structure. The generalized MAIN/SUB category structure was used for model training and is the classification structure provided by the Buddy311 system. 

We went through multiple rounds of data cleansing before being able to use the free text in our final model. Numerics and punctuation were removed, as well as English stopwords and a set of specific words and phrases associated with that appeared to be automatically generated by each city's submission system. 

A section of the data cleansing process can be viewed [here](https://github.com/chrisdanicic/buddy311pub/blob/master/datacleaning_20181107.ipynb).

## The Model

We started by testing a few basic NLP models for text classification. We looked at Naive Bayes classifiers and linear kernel Support Vector Machine classifiers using the Sci-Kit Learn python package. You can view the baseline model performance using the final cleaned data [here](https://github.com/chrisdanicic/buddy311pub/blob/master/nonNN_model_v2.ipynb).